/* * Copyright © 2019-2021 chenwenbin * Released under the MIT License. */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self)["list-module"]=e()}(this,(function(){"use strict";var t=function(t,e,n,a,i,o,s,r,d,l){"boolean"!=typeof s&&(d=r,r=s,s=!1);var c,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,i&&(f.functional=!0)),a&&(f._scopeId=a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},f._ssrRegister=c):e&&(c=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),c)if(f.functional){var u=f.render;f.render=function(t,e){return c.call(e),u(t,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,c):[c]}return n}; var e={name:"UtilList",props:{finishText:{type:String,default:"没有更多了"},totalCount:{type:Number,default:0},operate:{type:String,default:""},dataObj:{type:Object,require:!0,default:function(){}},domShowType:{type:Boolean,default:!1}},data:function(){return{curType:0,loading:!1,finished:!1}},computed:{infoTextarr:function(){return this.dataObj.data.filter((function(t){return"img"!==t.type}))},infoImgarr:function(){var t=this.dataObj.dataMap.find((function(t){return"img"===t.type})),e=[];return 0!==this.dataObj.dataMap.length&&void 0!==t&&(e=this.dataObj.data.map((function(e){return e[t.key]}))),console.log(e),e}},mounted:function(){},destroyed:function(){},activated:function(){},methods:{onLoad:function(){console.log("进来加载中,总条数为"+this.totalCount),this.$emit("loadData"),this.loading=!1,this.dataObj.data.length>this.totalCount&&(this.finished=!0)},initConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""!==t?this[t]=!1:(this.loading=!1,this.finished=!1),this.$forceUpdate()},timeJq:function(t){return t.split(" ")[1].split("")},toDetail:function(t,e){console.log(e),this.$emit("toDetail",Object.assign(t,{clickType:e,pageType:"warning"}))}}};var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"infoList"},[n("van-list",{attrs:{finished:t.finished,"finished-text":t.finishText,offset:"10","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[0!=t.dataObj.data.length?n("van-skeleton",{staticClass:"skel",attrs:{row:4,loading:!t.domShowType}},[t._l(t.dataObj.data,(function(e,a){return n("div",{key:a,staticClass:"infoList-main",on:{click:function(n){return t.toDetail(e,"router")}}},[""!=t.dataObj.dataType?n("div",{staticClass:"ifm-left",class:"ifm-left-"+t.dataObj.dataType}):t._e(),t._v(" "),n("div",{staticClass:"ifm-right"},[0!=t.infoImgarr.length?n("img",{staticClass:"ifm-img",style:t.dataObj.avatarSize,attrs:{src:t.infoImgarr[a],alt:"",srcset:""}}):t._e(),t._v(" "),n("div",{staticClass:"ifm-user"},t._l(t.dataObj.dataMap,(function(a,i){return n("div",{key:i},["title"==a.type?n("h3",[t._v("\n                  "+t._s(e[a.key])+"\n                ")]):t._e(),t._v(" "),a.type?t._e():n("p",[n("span",[t._v(t._s(a.label)+"：")]),t._v(t._s(e[a.key])+"\n                ")]),t._v(" "),"status"==a.type?n("span",{staticStyle:{position:"absolute"},style:[a.style,{color:a.map[e[a.key]].color},{background:a.map[e[a.key]].background}]},[t._v("\n                  "+t._s(a.map[e[a.key]].text)+"\n                ")]):t._e()])})),0),t._v(" "),t.dataObj.operate?n("van-button",{staticClass:"opreate",style:t.dataObj.operate.style,attrs:{type:t.dataObj.operate.btnType,round:t.dataObj.operate.round,size:"small"},on:{click:function(n){return n.stopPropagation(),t.$emit(t.item.map[e[t.item.key]])}}},[t._v("\n              "+t._s(t.dataObj.operate.text)+"\n            ")]):t._e()],1)])}))],2):t._e(),t._v(" "),0===t.dataObj.data.length&&t.domShowType?n("van-empty"):t._e()],1)],1)};n._withStripped=!0;var a=t({render:n,staticRenderFns:[]},void 0,e,"data-v-86e176fc",!1,void 0,void 0,void 0);return a.install=function(t){t.component(a.name,a)},a}));
